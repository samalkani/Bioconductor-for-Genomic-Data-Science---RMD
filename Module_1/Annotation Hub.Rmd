---
title: "Annotation Hub"
author: "Sasha Ajay Malkani"
date: "2025-10-12"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 1. Installing the AnnotationHub package

```{r Installing the AnnotationHub package}
# BiocManager::install("AnnotationHub")

```

## 2. Load AnnotationHub

```{r Load AnnotationHub}
library(AnnotationHub)

```

## 3. Creating a local annotation hub

```{r Creating a local annotation hub}
ah = AnnotationHub()
ah

```

## 4. Look at first element

```{r Look at first element}
ah[1]

```

## 5. Installing the rtracklayer package

```{r Installing the rtracklayer package}
# if (!require("BiocManager", quietly = TRUE))
#   install.packages("BiocManager")

# BiocManager::install("rtracklayer")

```

## 6. Load rtracklayer package

```{r Load rtracklayer package}
library(rtracklayer)

```

## 7. Retrieving objects from annotation hub

```{r Retrieving objects from annotation hub}
ah[[1]]

```

## 8. Use dataprovider to display all the data providers

```{r Use dataprovider to display all the data providers}
head(unique(ah$dataprovider))
tail(unique(ah$dataprovider))
```

## 9. Information on Species in the ah database

```{r Information on Species in the ah database}
head(unique(ah$species))
tail(unique(ah$species))

```

## 10. Information Specific to Homo sapiens

```{r Information Specific to Homo sapiens}
ah = subset(ah, species == "Homo sapiens")
ah
```

## 11. Information specific to Histomodification

```{r Information specific to Histomodification}
query(ah, "H3K4me3")

```

## 12. Information on a specific cell line and Histomodification

```{r Information on a specific cell line and Histomodification}
query(ah, c("H3K4me3", "Gm12878"))

```

## 13. Install BiocHubsShiny package

```{r Install BiocHubsShiny package}
# if (!require("BiocManager", quietly = TRUE))
#   install.packages("BiocManager")

# BiocManager::install("BiocHubsShiny")

```

## 14. Loading BiocHubsShiny package

```{r Loading BiocHubsShiny package}
library(BiocHubsShiny)

```

## 15. Using the spreadsheet-like interface

You can carry out the same query as above on the interface typing H3K4me3 and Gm12878 in the search box and you can select the relevant records on the interface and then press the send metadata button on the interface. This will send the selected records to RStudio and you can write it into a table and print it out (see commented out code below).

```{r Using the spreadsheet-like interface}
# BiocHubsShiny()
# write.table(ah_meta, file = 'ah_meta.txt')
# print(ah_meta)

```



